config:
  target: "ws://localhost:5002/drivers"
  socketio:
    query:
      token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRyaXZlcnhveG8yIiwiZHJpdmVySUQiOiIzNGQ0YTE2Yy02ODM0LTQxMDUtOTRkZC1kY2Q5NDk0ZDU5MzkiLCJleHAiOjE2MTYwNjM1NTksImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDUiLCJhdWQiOiJodHRwczovL2xvY2FsaG9zdDo1MDA1In0.48QozXuQZi69ptXhlsDh54sgy4QmH_b-wwDDx-g_TLo"
    transports: ["websocket"]
  processor: "./artilleryiofunctions.js"
  phases: # 5 users every second for 3 seconds
    - duration: 3
      arrivalRate: 5
  
scenarios:
  - name: My Socketio test
    engine: "socketio"
    flow:
      - function: "setupData"
      - emit:
          channel: "delivery_start"
          data: "{{ packages }}"
      - loop:
        - emit:
            channel: "echo"
            data: "Hello world!"
        count: 100
